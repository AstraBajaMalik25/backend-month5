model Transaction {
  
id     Int            @id @default(autoincrement())
userId Int
user   User           @relation(fields: [userId], references: [id])
total  Decimal        @db.Decimal(10, 2)
items  TransactionItem[] 

createdAt DateTime    @default(now())
updatedAt DateTime    @updatedAt
deletedAt DateTime?   @db.Timestamptz

  @@map("transactions")
}

model TransactionItem {
  id            Int         @id @default(autoincrement())
  transactionId Int
  transaction   Transaction @relation(fields: [transactionId], references: [id])
  productId     Int
  product       Product     @relation(fields: [productId], references: [id])
  quantity      Int
  priceAtTime   Decimal     @db.Decimal(10, 2)
  
  @@map("transaction_items")
}